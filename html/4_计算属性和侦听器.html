<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>计算属性</title>
		<script src="../js/vue.js"></script>
	</head>

	<body>
		<div id="example">
			<p>Original message:{{message}}</p>
			<p>Computed reversed message:{{reversedMessage}}</p>
		</div>

		<div id="example2">
			<p>Original message:{{message}}</p>
			<p>Computed reversed message:{{reversedMessage()}}</p>
		</div>

		<div id="example3">
			<p>current time is:{{currentTime}}</p>
		</div>
	</body>

	<script>
		var example = new Vue({
			el: '#example',
			data: {
				message: 'Hello'
			},
			computed: {
				//计算属性中的getter
				reversedMessage: function() {
					//this指向Vue实例
					return this.message.split('').reverse().join('');
				}
			}
		});

		//调用方法每次都会重新求值
		var example2 = new Vue({
			el: '#example2',
			data: {
				message: 'Hello World!'
			},
			methods: {
				reversedMessage: function() {
					return this.message.split('').reverse().join('');
				}
			},

		});

		//更改依赖项会发生改变
		example2.message = 'Hello Vue! ';

		var example3 = new Vue({
			el: '#example3',
			computed: {
				currentTime: function() {
					return Date.now();
				}
			}
		});

		//由于计算属性是基于响应式依赖进行缓存的,只有在响应式依赖发生改变时才会重新求值,这里不会变
		console.log(example3.currentTime);
	</script>

</html>
